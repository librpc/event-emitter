!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Emitter=e()}(this,function(){"use strict";var t=function(){this.map=Object.create(null)};t.prototype.get=function(t){return this.map[t]},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.has=function(t){return this.map[t]};var e=function(){this.list=[],this.map=new Map,this.idx=0};e.prototype.add=function(t){var e=this.map.get(t)||this.idx++;this.list[e]=t,this.map.set(t,e)},e.prototype.remove=function(t){var e=this.map.get(t);e&&(this.list.splice(e,1),this.map.delete(t),this.idx--)},e.prototype.toArray=function(){return this.list.concat()};var i=function(){this.events=new t};return i.prototype.on=function(t,i){var n=this.events.get(t);n||(n=new e,this.events.set(t,n)),n.add(i)},i.prototype.off=function(t,e){var i=this.events.get(t);i&&i.remove(e)},i.prototype.emit=function(t,e){var i=this.events.get(t);if(i)for(var n=i.toArray(),o=0;o<n.length;o++)n[o](e)},i});
